<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chi Tiết Dịch Vụ - SP001</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="@Url.Content("~/css/AppointmentDetailCss.css")" rel="stylesheet" >
</head>
<body>
    <div class="container">
        <a href="/Services" class="back-button">
            <i class="fas fa-arrow-left"></i>
            Quay lại danh sách
        </a>

        <div class="service-header">
            <div class="header-content">
                <div class="service-info">
                    <h1>
                        <i class="fas fa-cut"></i>
                        Tắm & Cắt tỉa lông
                    </h1>
                    <div class="booking-code">Mã booking: <strong>SP001</strong></div>
                    <div class="pet-card">
                        <div class="pet-avatar">
                            <i class="fas fa-dog"></i>
                        </div>
                        <div class="pet-details">
                            <h2>Lucky</h2>
                            <p><strong>Loại:</strong> Golden Retriever</p>
                            <p><strong>Tuổi:</strong> 3 tuổi • <strong>Cân nặng:</strong> 25kg</p>
                            <p><strong>Chủ nhân:</strong> Nguyễn Văn A • <strong>SĐT:</strong> 0901234567</p>
                        </div>
                    </div>
                </div>
                <div class="status-section">
                    <div class="current-status status-inprogress">
                        <i class="fas fa-spinner fa-spin"></i>
                        Đang thực hiện
                    </div>
                    <div class="progress-info">
                        Tiến độ: 65% • Còn lại: 30 phút
                    </div>
                </div>
            </div>
        </div>

        <div class="main-content">
            <div class="timeline-section">
                <h2 class="section-title">
                    <i class="fas fa-clock"></i>
                    Tiến trình thực hiện
                </h2>

                <div class="timeline">
                    <div class="timeline-item completed">
                        <div class="timeline-content">
                            <div class="timeline-title">
                                <i class="fas fa-check-circle"></i>
                                Tiếp nhận thú cưng
                            </div>
                            <div class="timeline-time">14:00 - Hoàn thành</div>
                            <div class="timeline-description">
                                Lucky đã được tiếp nhận và kiểm tra sức khỏe ban đầu. Tình trạng sức khỏe tốt, không có vấn đề gì bất thường.
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item completed">
                        <div class="timeline-content">
                            <div class="timeline-title">
                                <i class="fas fa-check-circle"></i>
                                Chuẩn bị & tư vấn
                            </div>
                            <div class="timeline-time">14:10 - Hoàn thành</div>
                            <div class="timeline-description">
                                Tư vấn kiểu cắt phù hợp với giống chó và mùa. Chủ nhân đồng ý với phương án cắt tỉa theo kiểu Summer Cut.
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item completed">
                        <div class="timeline-content">
                            <div class="timeline-title">
                                <i class="fas fa-check-circle"></i>
                                Tắm và sấy khô
                            </div>
                            <div class="timeline-time">14:20 - Hoàn thành</div>
                            <div class="timeline-description">
                                Tắm với shampoo chuyên dụng cho lông dài, massage thư giãn. Sấy khô hoàn toàn với máy sấy chuyên dụng.
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item current">
                        <div class="timeline-content">
                            <div class="timeline-title">
                                <i class="fas fa-cut"></i>
                                Cắt tỉa lông
                            </div>
                            <div class="timeline-time">14:45 - Đang thực hiện</div>
                            <div class="timeline-description">
                                Đang tiến hành cắt tỉa lông theo yêu cầu. Hiện tại đã hoàn thành 65% công việc, dự kiến hoàn thành trong 30 phút nữa.
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item pending">
                        <div class="timeline-content">
                            <div class="timeline-title">
                                <i class="fas fa-paw"></i>
                                Chăm sóc móng & tai
                            </div>
                            <div class="timeline-time">15:30 - Chờ thực hiện</div>
                            <div class="timeline-description">
                                Cắt móng chân, vệ sinh tai và kiểm tra tổng thể sau khi hoàn thành cắt tỉa.
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item pending">
                        <div class="timeline-content">
                            <div class="timeline-title">
                                <i class="fas fa-heart"></i>
                                Hoàn thiện & bàn giao
                            </div>
                            <div class="timeline-time">15:45 - Chờ thực hiện</div>
                            <div class="timeline-description">
                                Kiểm tra lại toàn bộ, chụp ảnh kết quả và bàn giao thú cưng cho chủ nhân.
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="details-section">
                <h2 class="section-title">
                    <i class="fas fa-info-circle"></i>
                    Thông tin chi tiết
                </h2>

                <div class="detail-grid">
                    <div class="detail-card">
                        <div class="detail-value">450,000₫</div>
                        <div class="detail-label">Giá dịch vụ</div>
                    </div>
                    <div class="detail-card">
                        <div class="detail-value">90 phút</div>
                        <div class="detail-label">Thời gian dự kiến</div>
                    </div>
                    <div class="detail-card">
                        <div class="detail-value">14:00</div>
                        <div class="detail-label">Bắt đầu</div>
                    </div>
                    <div class="detail-card">
                        <div class="detail-value">15:30</div>
                        <div class="detail-label">Dự kiến hoàn thành</div>
                    </div>
                </div>

                <div class="staff-info">
                    <h3><i class="fas fa-user"></i> Nhân viên phụ trách</h3>
                    <p><strong>Trần Thị B</strong></p>
                    <p>Chuyên viên cắt tỉa - 5 năm kinh nghiệm</p>
                    <p><i class="fas fa-phone"></i> 0907654321</p>
                </div>

                <div class="notes-section">
                    <div class="notes-title">
                        <i class="fas fa-sticky-note"></i>
                        Ghi chú đặc biệt
                    </div>
                    <ul style="margin: 0; padding-left: 1.5rem; color: #856404;">
                        <li>Lucky hơi nhạy cảm với âm thanh lớn</li>
                        <li>Cần cẩn thận khi cắt vùng chân sau</li>
                        <li>Chủ nhân yêu cầu giữ lại một ít lông ở đuôi</li>
                    </ul>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary">
                        <i class="fas fa-phone"></i>
                        Gọi nhân viên
                    </button>
                    <button class="btn btn-secondary">
                        <i class="fas fa-camera"></i>
                        Xem ảnh
                    </button>
                </div>
            </div>
        </div>

        <!-- Modal for real-time updates -->
        <div id="updateModal" style="display: none; position: fixed; top: 20px; right: 20px; background: white; padding: 1rem; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.2); z-index: 1000;">
            <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                <i class="fas fa-bell" style="color: #007bff;"></i>
                <strong>Cập nhật mới</strong>
            </div>
            <p id="updateMessage"></p>
        </div>
    </div>

    <script>
        // Simulate real-time updates
        const updates = [
            "Lucky đang rất hợp tác trong quá trình cắt tỉa",
            "Đã hoàn thành 70% công việc cắt tỉa lông",
            "Nhân viên đang chuyển sang giai đoạn hoàn thiện",
            "Chuẩn bị chuyển sang bước chăm sóc móng và tai"
        ];

        let updateIndex = 0;

        function showUpdate() {
            if (updateIndex < updates.length) {
                const modal = document.getElementById('updateModal');
                const message = document.getElementById('updateMessage');

                message.textContent = updates[updateIndex];
                modal.style.display = 'block';

                // Auto hide after 4 seconds
                setTimeout(() => {
                    modal.style.display = 'none';
                }, 4000);

                updateIndex++;
            }
        }

        // Show updates every 30 seconds
        setInterval(showUpdate, 30000);

        // Progress bar animation
        function updateProgress() {
            const currentItems = document.querySelectorAll('.timeline-item.current');
            if (currentItems.length > 0) {
                // Simulate progress update
                const progressInfo = document.querySelector('.progress-info');
                if (progressInfo) {
                    const currentText = progressInfo.textContent;
                    const match = currentText.match(/(\d+)%/);
                    if (match) {
                        let progress = parseInt(match[1]);
                        if (progress < 90) {
                            progress += Math.floor(Math.random() * 3) + 1;
                            const remainingTime = Math.max(5, 35 - Math.floor(progress * 0.4));
                            progressInfo.textContent = `Tiến độ: ${progress}% • Còn lại: ${remainingTime} phút`;
                        }
                    }
                }
            }
        }

        // Update progress every 2 minutes
        setInterval(updateProgress, 120000);

        // Add click handlers for action buttons
        document.querySelectorAll('.btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                if (this.textContent.includes('Gọi nhân viên')) {
                    alert('Đang kết nối với nhân viên Trần Thị B...');
                } else if (this.textContent.includes('Xem ảnh')) {
                    alert('Chức năng xem ảnh theo thời gian thực sẽ được cập nhật sớm!');
                }
            });
        });

        // Add hover effects
        document.querySelectorAll('.timeline-item').forEach(item => {
            item.addEventListener('mouseenter', function() {
                this.style.transform = 'translateX(5px)';
                this.style.transition = 'transform 0.3s ease';
            });

            item.addEventListener('mouseleave', function() {
                this.style.transform = 'translateX(0)';
            });
        });
    </script>
</body>
</html>