@model List<pet_spa_system1.ViewModel.OrderViewModel>
@{
    ViewData["Title"] = "Lịch Sử Đơn Hàng";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
        
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            
            font-family: 'Segoe UI', sans-serif;
        }

        .order-card {
            border-radius: 10px;
            box-shadow: 0 0 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .order-status {
            font-weight: 500;
        }

        .badge-status {
            font-size: 14px;
        }

        .order-header {
            background-color: #343a40;
            color: white;
            padding: 15px;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
        }

            .order-header h5 {
                margin: 0;
            }

        .table th, .table td {
            vertical-align: middle;
        }

        /* Hiệu ứng zoom khi hover vào card-body của order-card */
        .order-card .card-body {
            transition: transform 0.25s cubic-bezier(.4,2,.6,1), box-shadow 0.25s;
        }
        .order-card:hover  {
            transform: scale(1.03);
            box-shadow: 0 8px 32px rgba(60, 180, 114, 0.13);
            z-index: 2;
            position: relative;
        }
    </style>
</head>
<body>
    <div class="container mt-5 mb-5">
        <div class="card p-4 shadow-lg rounded-4" style="background: #fff;">
            <h3 class="mb-4">Lịch Sử Đơn Hàng Của Bạn</h3>
            @if (Model != null && Model.Any())
            {
                foreach (var order in Model)
                {
                    <div class="card order-card mb-3">
                        <div class="order-header">
                            <div class="d-flex justify-content-between">
                                <h5>Đơn hàng #@order.OrderID</h5>
                                <span class="badge bg-success badge-status">@order.Status</span>
                            </div>
                        </div>
                        <div class="card-body">
                            <p><strong>Ngày đặt:</strong> @order.OrderDate?.ToString("dd/MM/yyyy")</p>
                            <p><strong>Tổng cộng:</strong> @order.TotalAmount.ToString("N0") đ</p>
                            <h6>Sản phẩm:</h6>
                            <table class="table table-bordered table-sm">
                                <thead class="table-light">
                                    <tr>
                                        <th>Tên sản phẩm</th>
                                        <th>Số lượng</th>
                                        <th>Giá</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @if (order.Items != null)
                                    {
                                        foreach (var item in order.Items)
                                        {
                                            <tr>
                                                <td>@item.ProductName</td>
                                                <td>@item.Quantity</td>
                                                <td>@item.UnitPrice?.ToString("N0") đ</td>
                                            </tr>
                                        }
                                    }
                                </tbody>
                            </table>
                            <a href="@Url.Action("OrderStatusDetail", "Order", new { orderId = order.OrderID })" class="btn btn-outline-primary btn-sm">Xem chi tiết</a>
                        </div>
                    </div>
                }
            }
            else
            {
                <div class="alert alert-info">Bạn chưa có đơn hàng nào.</div>
            }
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
